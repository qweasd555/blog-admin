var v=(g,d,a)=>new Promise((t,o)=>{var u=e=>{try{s(a.next(e))}catch(l){o(l)}},p=e=>{try{s(a.throw(e))}catch(l){o(l)}},s=e=>e.done?t(e.value):Promise.resolve(e.value).then(u,p);s((a=a.apply(g,d)).next())});import{aj as V,r as w,h as b,a8 as i,m as k,q as L,t as r,H as n,B as m,F as S}from"./vue-vendor-003ac6f9.js";import"./supabase-6fa7b02d.js";import{_ as h}from"./_plugin-vue_export-helper-c27b6911.js";import{P as _}from"./element-plus-ec987f8a.js";import"./index-e40cfe8c.js";const B={class:"login-container"},I={class:"login-form"},N={__name:"Login",setup(g){const d=V(),a=w(),t=w(!1),o=b({username:"",password:""}),u={username:[{required:!0,message:"请输入管理员账号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},p=()=>v(this,null,function*(){if(a.value)try{if(yield a.value.validate(),t.value=!0,o.username==="admin"&&o.password==="admin123"){const s={id:"demo-admin-id",email:"admin@example.com",username:"admin",loginTime:new Date().toISOString()};localStorage.setItem("admin_token",s.id),localStorage.setItem("admin_user",JSON.stringify(s)),_.success("登录成功（演示模式）"),d.push("/dashboard")}else _.error("账号或密码错误，请使用演示账号：admin / admin123")}catch(s){console.error("登录失败:",s),_.error("登录失败，请重试")}finally{t.value=!1}});return(s,e)=>{const l=i("el-input"),f=i("el-form-item"),y=i("el-button"),x=i("el-form");return k(),L("div",B,[r("div",I,[e[3]||(e[3]=r("div",{class:"login-header"},[r("h2",null,"博客后台管理系统"),r("p",null,"管理员登录")],-1)),n(x,{model:o,rules:u,ref_key:"loginForm",ref:a,class:"form"},{default:m(()=>[n(f,{prop:"username"},{default:m(()=>[n(l,{modelValue:o.username,"onUpdate:modelValue":e[0]||(e[0]=c=>o.username=c),placeholder:"管理员账号",size:"large","prefix-icon":"User"},null,8,["modelValue"])]),_:1}),n(f,{prop:"password"},{default:m(()=>[n(l,{modelValue:o.password,"onUpdate:modelValue":e[1]||(e[1]=c=>o.password=c),type:"password",placeholder:"密码",size:"large","prefix-icon":"Lock","show-password":""},null,8,["modelValue"])]),_:1}),n(y,{type:"primary",size:"large",loading:t.value,onClick:p,class:"login-btn"},{default:m(()=>[...e[2]||(e[2]=[S(" 登录 ",-1)])]),_:1},8,["loading"])]),_:1},8,["model"]),e[4]||(e[4]=r("div",{class:"demo-info"},[r("p",null,[r("strong",null,"演示账号：")]),r("p",null,"账号：admin"),r("p",null,"密码：admin123")],-1))])])}}},O=h(N,[["__scopeId","data-v-3554504b"]]);export{O as default};
