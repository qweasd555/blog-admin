var v=(f,m,u)=>new Promise((d,l)=>{var i=o=>{try{a(u.next(o))}catch(_){l(_)}},p=o=>{try{a(u.throw(o))}catch(_){l(_)}},a=o=>o.done?d(o.value):Promise.resolve(o.value).then(i,p);a((u=u.apply(f,m)).next())});import{aj as M,ak as N,r as w,j as U,a8 as n,m as F,q as O,H as e,B as t,t as s,F as x}from"./vue-vendor-003ac6f9.js";import{_ as T}from"./_plugin-vue_export-helper-c27b6911.js";import{Q as V,R as j,P}from"./element-plus-ec987f8a.js";const q={class:"layout-container"},H={class:"header-right"},J={class:"user-info"},Q={class:"main-container"},z={__name:"Layout",setup(f){const m=M(),u=N(),d=w(""),l=w({username:"管理员"});U(()=>{d.value=u.name||"";const a=localStorage.getItem("admin_user");a?l.value=JSON.parse(a):i()});const i=()=>v(this,null,function*(){try{l.value={username:"管理员",role:"admin"}}catch(a){console.error("加载用户信息失败:",a),l.value={username:"管理员"}}}),p=()=>{j.confirm("确定要退出登录吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{localStorage.removeItem("admin_token"),localStorage.removeItem("admin_user"),P.success("退出成功"),m.push("/login")})};return(a,o)=>{const _=n("User"),r=n("el-icon"),g=n("arrow-down"),h=n("SwitchButton"),y=n("el-dropdown-item"),B=n("el-dropdown-menu"),C=n("el-dropdown"),D=n("el-header"),S=n("Odometer"),c=n("el-menu-item"),b=n("Document"),k=n("ChatDotRound"),I=n("el-menu"),R=n("el-aside"),E=n("router-view"),L=n("el-main");return F(),O("div",q,[e(D,{class:"header"},{default:t(()=>[o[1]||(o[1]=s("div",{class:"header-left"},[s("h2",null,"博客后台管理系统")],-1)),s("div",H,[e(C,null,{dropdown:t(()=>[e(B,null,{default:t(()=>[e(y,{onClick:p},{default:t(()=>[e(r,null,{default:t(()=>[e(h)]),_:1}),o[0]||(o[0]=x(" 退出登录 ",-1))]),_:1})]),_:1})]),default:t(()=>[s("span",J,[e(r,null,{default:t(()=>[e(_)]),_:1}),x(" "+V(l.value.username)+" ",1),e(r,{class:"el-icon--right"},{default:t(()=>[e(g)]),_:1})])]),_:1})])]),_:1}),s("div",Q,[e(R,{class:"sidebar",width:"200px"},{default:t(()=>[e(I,{"default-active":d.value,class:"sidebar-menu",router:"","background-color":"#304156","text-color":"#bfcbd9","active-text-color":"#409EFF"},{default:t(()=>[e(c,{index:"Dashboard"},{default:t(()=>[e(r,null,{default:t(()=>[e(S)]),_:1}),o[2]||(o[2]=s("span",null,"仪表盘",-1))]),_:1}),e(c,{index:"Users"},{default:t(()=>[e(r,null,{default:t(()=>[e(_)]),_:1}),o[3]||(o[3]=s("span",null,"用户管理",-1))]),_:1}),e(c,{index:"Posts"},{default:t(()=>[e(r,null,{default:t(()=>[e(b)]),_:1}),o[4]||(o[4]=s("span",null,"文章管理",-1))]),_:1}),e(c,{index:"Comments"},{default:t(()=>[e(r,null,{default:t(()=>[e(k)]),_:1}),o[5]||(o[5]=s("span",null,"评论管理",-1))]),_:1})]),_:1},8,["default-active"])]),_:1}),e(L,{class:"main-content"},{default:t(()=>[e(E)]),_:1})])])}}},X=T(z,[["__scopeId","data-v-a7151a0a"]]);export{X as default};
