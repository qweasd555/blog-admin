import{u as y,r as c,a as b,b as l,o as x,c as V,d as o,e as r,w as n,f as k,E as m}from"./index-108f509c.js";import{_ as L}from"./_plugin-vue_export-helper-b60847f6.js";const S={class:"login-container"},I={class:"login-form"},N={__name:"Login",setup(U){const _=y(),t=c(),i=c(!1),s=b({username:"",password:""}),g={username:[{required:!0,message:"请输入管理员账号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},f=async()=>{if(t.value)try{if(await t.value.validate(),i.value=!0,s.username==="admin"&&s.password==="admin123"){const a={id:"demo-admin-id",email:"admin@example.com",username:"admin",loginTime:new Date().toISOString()};localStorage.setItem("admin_token",a.id),localStorage.setItem("admin_user",JSON.stringify(a)),m.success("登录成功（演示模式）"),_.push("/dashboard")}else m.error("账号或密码错误，请使用演示账号：admin / admin123")}catch(a){console.error("登录失败:",a),m.error("登录失败，请重试")}finally{i.value=!1}};return(a,e)=>{const u=l("el-input"),p=l("el-form-item"),v=l("el-button"),w=l("el-form");return x(),V("div",S,[o("div",I,[e[3]||(e[3]=o("div",{class:"login-header"},[o("h2",null,"博客后台管理系统"),o("p",null,"管理员登录")],-1)),r(w,{model:s,rules:g,ref_key:"loginForm",ref:t,class:"form"},{default:n(()=>[r(p,{prop:"username"},{default:n(()=>[r(u,{modelValue:s.username,"onUpdate:modelValue":e[0]||(e[0]=d=>s.username=d),placeholder:"管理员账号",size:"large","prefix-icon":"User"},null,8,["modelValue"])]),_:1}),r(p,{prop:"password"},{default:n(()=>[r(u,{modelValue:s.password,"onUpdate:modelValue":e[1]||(e[1]=d=>s.password=d),type:"password",placeholder:"密码",size:"large","prefix-icon":"Lock","show-password":""},null,8,["modelValue"])]),_:1}),r(v,{type:"primary",size:"large",loading:i.value,onClick:f,class:"login-btn"},{default:n(()=>[...e[2]||(e[2]=[k(" 登录 ",-1)])]),_:1},8,["loading"])]),_:1},8,["model"]),e[4]||(e[4]=o("div",{class:"demo-info"},[o("p",null,[o("strong",null,"演示账号：")]),o("p",null,"账号：admin"),o("p",null,"密码：admin123")],-1))])])}}},B=L(N,[["__scopeId","data-v-3554504b"]]);export{B as default};
